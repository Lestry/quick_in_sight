webpackJsonp([1],{130:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return _});var o=n(213),a=n.n(o),c=function(t,e,n){a.a.get("https://dmp-dbeta.mypaas.com.cn/api/quick_insight/text?lang_text="+t+"&tenant_code=beta&t="+(new Date).getTime()).then(function(t){"function"==typeof e&&e(t.data)}).catch(function(t){console.log("Get chart data api failed: ",t),"function"==typeof n&&n(t)})},_=function(t,e){a.a.post("https://dmp-dbeta.mypaas.com.cn/api/quick_insight/signature?t="+(new Date).getTime()).then(function(e){"function"==typeof t&&t(e.data)}).catch(function(t){console.log("Get wexin signature failed: ",t),"function"==typeof e&&e(t)})}},131:function(t,e,n){"use strict";function o(t){var e=t;if(t/c>=1){var n=Number(t/c).toString();e=(n.split(".").length>4?Number(n).toFixed(4):Number(n))+" 亿"}else if(t/a>=1){var o=Number(t/a).toString(),_=o.split("."),i=_.length>4?Number(o).toFixed(4):Number(o);e=i+" 万"}return e}e.a=o;var a=1e4,c=1e8},209:function(t,e,n){"use strict";var o=n(124),a=n(555),c=n(563),_=n.n(c),i=n(562),u=n.n(i);o.a.use(a.a),e.a=new a.a({mode:"hash",routes:[{path:"/",name:"home",component:_.a},{path:"/data_report/:voice",name:"dataReport",component:u.a},{path:"*",redirect:"/"}]})},212:function(t,e,n){n(540);var o=n(32)(n(236),n(551),null,null);t.exports=o.exports},231:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(124),a=n(211),c=n.n(a),_=n(209),i=n(212),u=n.n(i),r=n(210);o.a.use(r.a),c.a.attach(document.body),o.a.config.productionTip=!1,new o.a({router:_.a,data:{chart_data:{data:[[{count_new_follow_count:325,event_date:"2017-01-01"},{count_new_follow_count:318,event_date:"2017-01-02"},{count_new_follow_count:398,event_date:"2017-01-03"},{count_new_follow_count:365,event_date:"2017-01-04"},{count_new_follow_count:350,event_date:"2017-01-05"},{count_new_follow_count:331,event_date:"2017-01-06"},{count_new_follow_count:350,event_date:"2017-01-07"},{count_new_follow_count:337,event_date:"2017-01-08"},{count_new_follow_count:350,event_date:"2017-01-09"},{count_new_follow_count:336,event_date:"2017-01-10"},{count_new_follow_count:354,event_date:"2017-01-11"},{count_new_follow_count:359,event_date:"2017-01-12"},{count_new_follow_count:339,event_date:"2017-01-13"},{count_new_follow_count:356,event_date:"2017-01-14"},{count_new_follow_count:370,event_date:"2017-01-15"},{count_new_follow_count:373,event_date:"2017-01-16"},{count_new_follow_count:355,event_date:"2017-01-17"},{count_new_follow_count:315,event_date:"2017-01-18"},{count_new_follow_count:362,event_date:"2017-01-19"},{count_new_follow_count:387,event_date:"2017-01-20"},{count_new_follow_count:281,event_date:"2017-01-21"},{count_new_follow_count:375,event_date:"2017-01-22"},{count_new_follow_count:360,event_date:"2017-01-23"},{count_new_follow_count:316,event_date:"2017-01-24"},{count_new_follow_count:374,event_date:"2017-01-25"},{count_new_follow_count:337,event_date:"2017-01-26"},{count_new_follow_count:297,event_date:"2017-01-27"},{count_new_follow_count:230,event_date:"2017-01-28"},{count_new_follow_count:308,event_date:"2017-01-29"},{count_new_follow_count:255,event_date:"2017-01-30"},{count_new_follow_count:314,event_date:"2017-01-31"},{count_new_follow_count:337,event_date:"2017-02-01"},{count_new_follow_count:311,event_date:"2017-02-02"},{count_new_follow_count:340,event_date:"2017-02-03"},{count_new_follow_count:388,event_date:"2017-02-04"},{count_new_follow_count:282,event_date:"2017-02-05"},{count_new_follow_count:350,event_date:"2017-02-06"},{count_new_follow_count:408,event_date:"2017-02-07"},{count_new_follow_count:421,event_date:"2017-02-08"},{count_new_follow_count:360,event_date:"2017-02-09"},{count_new_follow_count:395,event_date:"2017-02-10"},{count_new_follow_count:333,event_date:"2017-02-11"},{count_new_follow_count:323,event_date:"2017-02-12"},{count_new_follow_count:341,event_date:"2017-02-13"},{count_new_follow_count:354,event_date:"2017-02-14"},{count_new_follow_count:362,event_date:"2017-02-15"},{count_new_follow_count:352,event_date:"2017-02-16"},{count_new_follow_count:376,event_date:"2017-02-17"},{count_new_follow_count:361,event_date:"2017-02-18"},{count_new_follow_count:339,event_date:"2017-02-19"},{count_new_follow_count:362,event_date:"2017-02-20"},{count_new_follow_count:316,event_date:"2017-02-21"},{count_new_follow_count:320,event_date:"2017-02-22"},{count_new_follow_count:356,event_date:"2017-02-23"},{count_new_follow_count:373,event_date:"2017-02-24"},{count_new_follow_count:343,event_date:"2017-02-25"},{count_new_follow_count:349,event_date:"2017-02-26"},{count_new_follow_count:357,event_date:"2017-02-27"},{count_new_follow_count:395,event_date:"2017-02-28"},{count_new_follow_count:362,event_date:"2017-03-01"},{count_new_follow_count:342,event_date:"2017-03-02"},{count_new_follow_count:358,event_date:"2017-03-03"},{count_new_follow_count:342,event_date:"2017-03-04"},{count_new_follow_count:312,event_date:"2017-03-05"},{count_new_follow_count:383,event_date:"2017-03-06"},{count_new_follow_count:397,event_date:"2017-03-07"},{count_new_follow_count:354,event_date:"2017-03-08"},{count_new_follow_count:393,event_date:"2017-03-09"},{count_new_follow_count:395,event_date:"2017-03-10"},{count_new_follow_count:350,event_date:"2017-03-11"},{count_new_follow_count:363,event_date:"2017-03-12"},{count_new_follow_count:349,event_date:"2017-03-13"},{count_new_follow_count:403,event_date:"2017-03-14"},{count_new_follow_count:380,event_date:"2017-03-15"},{count_new_follow_count:421,event_date:"2017-03-16"},{count_new_follow_count:423,event_date:"2017-03-17"},{count_new_follow_count:376,event_date:"2017-03-18"},{count_new_follow_count:370,event_date:"2017-03-19"},{count_new_follow_count:355,event_date:"2017-03-20"},{count_new_follow_count:381,event_date:"2017-03-21"},{count_new_follow_count:380,event_date:"2017-03-22"},{count_new_follow_count:379,event_date:"2017-03-23"},{count_new_follow_count:334,event_date:"2017-03-24"},{count_new_follow_count:358,event_date:"2017-03-25"},{count_new_follow_count:397,event_date:"2017-03-26"},{count_new_follow_count:369,event_date:"2017-03-27"},{count_new_follow_count:345,event_date:"2017-03-28"},{count_new_follow_count:339,event_date:"2017-03-29"},{count_new_follow_count:389,event_date:"2017-03-30"},{count_new_follow_count:344,event_date:"2017-03-31"},{count_new_follow_count:343,event_date:"2017-04-01"},{count_new_follow_count:326,event_date:"2017-04-02"},{count_new_follow_count:296,event_date:"2017-04-03"},{count_new_follow_count:291,event_date:"2017-04-04"},{count_new_follow_count:318,event_date:"2017-04-05"},{count_new_follow_count:362,event_date:"2017-04-06"},{count_new_follow_count:361,event_date:"2017-04-07"},{count_new_follow_count:322,event_date:"2017-04-08"},{count_new_follow_count:332,event_date:"2017-04-09"},{count_new_follow_count:357,event_date:"2017-04-10"},{count_new_follow_count:371,event_date:"2017-04-11"},{count_new_follow_count:325,event_date:"2017-04-12"},{count_new_follow_count:401,event_date:"2017-04-13"},{count_new_follow_count:361,event_date:"2017-04-14"},{count_new_follow_count:309,event_date:"2017-04-15"},{count_new_follow_count:315,event_date:"2017-04-16"},{count_new_follow_count:382,event_date:"2017-04-17"},{count_new_follow_count:354,event_date:"2017-04-18"},{count_new_follow_count:376,event_date:"2017-04-19"},{count_new_follow_count:378,event_date:"2017-04-20"},{count_new_follow_count:399,event_date:"2017-04-21"},{count_new_follow_count:339,event_date:"2017-04-22"},{count_new_follow_count:323,event_date:"2017-04-23"},{count_new_follow_count:381,event_date:"2017-04-24"},{count_new_follow_count:410,event_date:"2017-04-25"},{count_new_follow_count:344,event_date:"2017-04-26"},{count_new_follow_count:314,event_date:"2017-04-27"},{count_new_follow_count:361,event_date:"2017-04-28"},{count_new_follow_count:330,event_date:"2017-04-29"},{count_new_follow_count:336,event_date:"2017-04-30"},{count_new_follow_count:351,event_date:"2017-05-01"},{count_new_follow_count:357,event_date:"2017-05-02"},{count_new_follow_count:340,event_date:"2017-05-03"},{count_new_follow_count:321,event_date:"2017-05-04"},{count_new_follow_count:361,event_date:"2017-05-05"},{count_new_follow_count:359,event_date:"2017-05-06"},{count_new_follow_count:337,event_date:"2017-05-07"},{count_new_follow_count:379,event_date:"2017-05-08"},{count_new_follow_count:339,event_date:"2017-05-09"},{count_new_follow_count:401,event_date:"2017-05-10"},{count_new_follow_count:378,event_date:"2017-05-11"},{count_new_follow_count:364,event_date:"2017-05-12"},{count_new_follow_count:320,event_date:"2017-05-13"},{count_new_follow_count:302,event_date:"2017-05-14"},{count_new_follow_count:332,event_date:"2017-05-15"},{count_new_follow_count:426,event_date:"2017-05-16"},{count_new_follow_count:291,event_date:"2017-05-17"},{count_new_follow_count:366,event_date:"2017-05-18"},{count_new_follow_count:358,event_date:"2017-05-19"},{count_new_follow_count:285,event_date:"2017-05-20"},{count_new_follow_count:313,event_date:"2017-05-21"},{count_new_follow_count:327,event_date:"2017-05-22"},{count_new_follow_count:384,event_date:"2017-05-23"},{count_new_follow_count:389,event_date:"2017-05-24"},{count_new_follow_count:311,event_date:"2017-05-25"},{count_new_follow_count:386,event_date:"2017-05-26"},{count_new_follow_count:344,event_date:"2017-05-27"},{count_new_follow_count:340,event_date:"2017-05-28"},{count_new_follow_count:333,event_date:"2017-05-29"},{count_new_follow_count:283,event_date:"2017-05-30"},{count_new_follow_count:298,event_date:"2017-05-31"},{count_new_follow_count:336,event_date:"2017-06-01"},{count_new_follow_count:342,event_date:"2017-06-02"},{count_new_follow_count:299,event_date:"2017-06-03"},{count_new_follow_count:303,event_date:"2017-06-04"},{count_new_follow_count:335,event_date:"2017-06-05"},{count_new_follow_count:352,event_date:"2017-06-06"},{count_new_follow_count:305,event_date:"2017-06-07"},{count_new_follow_count:361,event_date:"2017-06-08"},{count_new_follow_count:357,event_date:"2017-06-09"},{count_new_follow_count:334,event_date:"2017-06-10"},{count_new_follow_count:340,event_date:"2017-06-11"},{count_new_follow_count:337,event_date:"2017-06-12"},{count_new_follow_count:357,event_date:"2017-06-13"},{count_new_follow_count:313,event_date:"2017-06-14"},{count_new_follow_count:324,event_date:"2017-06-15"},{count_new_follow_count:336,event_date:"2017-06-16"},{count_new_follow_count:289,event_date:"2017-06-17"},{count_new_follow_count:356,event_date:"2017-06-18"},{count_new_follow_count:312,event_date:"2017-06-19"},{count_new_follow_count:340,event_date:"2017-06-20"},{count_new_follow_count:356,event_date:"2017-06-21"},{count_new_follow_count:404,event_date:"2017-06-22"},{count_new_follow_count:341,event_date:"2017-06-23"},{count_new_follow_count:327,event_date:"2017-06-24"},{count_new_follow_count:265,event_date:"2017-06-25"},{count_new_follow_count:329,event_date:"2017-06-26"},{count_new_follow_count:382,event_date:"2017-06-27"},{count_new_follow_count:352,event_date:"2017-06-28"}]],dataset_fields:[{data_type:"日期",col_name:"event_date",id:"39e09d1c-d10-36c1-775b-ff54b1cc2ba4",visible:1,dataset_id:"39e09d1c-d10-133a-0ba9-5372b8e42310",field_group:"维度",alias_name:"日期",rank:1,format:""},{data_type:"字符串",col_name:"name",id:"39e09d1c-d10-5649-6a80-f35a80eb7772",visible:1,dataset_id:"39e09d1c-d10-133a-0ba9-5372b8e42310",field_group:"维度",alias_name:"开发商",rank:2,format:""},{data_type:"数值",col_name:"new_follow_count",id:"39e09d1c-d10-dd28-718b-788844f3af27",visible:1,dataset_id:"39e09d1c-d10-133a-0ba9-5372b8e42310",field_group:"度量",alias_name:"新增粉丝",rank:3,format:""},{data_type:"数值",col_name:"cancel_follow_count",id:"39e09d1c-d10-5f09-3de5-508f815c3261",visible:1,dataset_id:"39e09d1c-d10-133a-0ba9-5372b8e42310",field_group:"度量",alias_name:"取消粉丝",rank:4,format:""},{data_type:"数值",col_name:"new_member_count",id:"39e09d1c-d10-b78b-22a4-c5eb61c01bbd",visible:1,dataset_id:"39e09d1c-d10-133a-0ba9-5372b8e42310",field_group:"度量",alias_name:"新增会员",rank:5,format:""},{data_type:"数值",col_name:"new_owner_count",id:"39e09d1c-d10-04ab-f0c0-519246a50924",visible:1,dataset_id:"39e09d1c-d10-133a-0ba9-5372b8e42310",field_group:"度量",alias_name:"新增业主",rank:6,format:""}],chart:{dims:[{alias:"日期",dim:"39e09d1c-d10-36c1-775b-ff54b1cc2ba4",formula_mode:""}],name:"统计2017年新增粉丝总数",id:null,map:null,source_type:"数据集",sort_method:null,chart_code:"cluster_column",source:"39e09d1c-d10-133a-0ba9-5372b8e42310",dashboard_id:null,nums:[{num:"39e09d1c-d10-dd28-718b-788844f3af27",alias:"新增粉丝",formula_mode:"count"}]},dataset:{content:'{"sql": "select * from heike_data_member where event_date >= \'2017-01-01\';", "data_source_id": "00000000-1111-1111-2222-000000000000"}',name:"云会员运营数据",id:"39e09d1c-d10-133a-0ba9-5372b8e42310",created_on:"2017-06-30T14:16:42",created_by:"member",level_code:"0001-0001-",icon:null,table_name:"dataset_67fa8a8268e0aa0f",type:"SQL",user_group_id:"00000000-0000-0000-1111-000000000000",description:null,modified_on:"2017-06-30T14:18:18",modified_by:"member",parent_id:"39e09d05-610-0daf-54ad-9da4c631467a"}}},render:function(t){return t(u.a)}}).$mount("#app-box")},232:function(t,e,n){"use strict";function o(t,e){var n={},o={};return t.dims.forEach(function(t){var o=t.formula_mode?t.formula_mode+"_"+t.col_name:t.col_name,a=t.alias||t.alias_name||t.col_name,c=h.a[t.formula_mode]?a+"（"+h.a[t.formula_mode]+"）":a,_=e.map(function(t){return t[o]});n=v()({},n,f()({},c,_))}),t.nums.forEach(function(t){var n=t.formula_mode?t.formula_mode+"_"+t.col_name:t.col_name,a=t.alias||t.alias_name||t.col_name,c=h.a[t.formula_mode]?a+"("+h.a[t.formula_mode]+")":a,_=e.map(function(t){return t[n]});o=v()({},o,f()({},c,_))}),{dims:n,nums:o}}function a(t){return t.map(function(t){return s()(t).map(function(e){null==t[e]&&(t[e]="-")}),t})}function c(t,e,n){n=a(n);var c=o(e,n),_=c.dims,u=c.nums,l=void 0;switch(t){case"pie":var s=[],d=r()(_),f=r()(u);d.length>0?d[0][1].forEach(function(t,e){s.push({name:t,value:+f[0][1][e]})}):f.forEach(function(t){s.push({name:t[0],value:t[1][0]})}),l=s;break;case"numerical_value":var w="",v=0;i()(u).forEach(function(t){w=t,v=u[t]}),l={name:w,value:v};break;default:l={dims:_,nums:u}}return l}e.a=c;var _=n(83),i=n.n(_),u=n(82),r=n.n(u),l=n(246),s=n.n(l),d=n(249),f=n.n(d),w=n(51),v=n.n(w),h=n(62);n(81)},233:function(t,e,n){"use strict";function o(t){var e=t.split("").reverse(),n=[];return e.forEach(function(t,o){o%3==2&&o!==e.length-1?(n.push(t),n.push(",")):n.push(t)}),n.reverse().join("")}function a(t){if(+t>=0){var e=o(t.toString()),n="",a="";if(!_()(+t)||-1!==t.toString().indexOf(".")){t=Number(t).toFixed(2);var c=t.toString().split(".");e=o(c[0]),n=".",a=c[1]}return""+e+n+a}return"-"}e.a=a;var c=n(244),_=n.n(c)},234:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"loading",props:{value:{type:Boolean,default:!1},text:String,position:String},created:function(){this.show=this.value},data:function(){return{show:!1}},watch:{value:function(t){this.show=t},show:function(t){this.$emit("input",t)}}}},235:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(243);e.default={name:"toast",mixins:[o.a],props:{value:Boolean,time:{type:Number,default:2e3},type:{type:String,default:"success"},transition:String,width:{type:String,default:"7.6em"},isShowMask:{type:Boolean,default:!1},text:String,position:String},data:function(){return{show:!1}},created:function(){this.value&&(this.show=!0)},computed:{currentTransition:function(){return this.transition?this.transition:"top"===this.position?"vux-slide-from-top":"bottom"===this.position?"vux-slide-from-bottom":"vux-fade"},toastClass:function(){return{"weui-toast_forbidden":"warn"===this.type,"weui-toast_cancel":"cancel"===this.type,"weui-toast_success":"success"===this.type,"weui-toast_text":"text"===this.type,"vux-toast-top":"top"===this.position,"vux-toast-bottom":"bottom"===this.position,"vux-toast-middle":"middle"===this.position}},style:function(){if("text"===this.type&&"auto"===this.width)return{padding:"10px"}}},watch:{show:function(t){var e=this;t&&(this.$emit("input",!0),this.$emit("on-show"),this.fixSafariOverflowScrolling("auto"),clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.show=!1,e.$emit("input",!1),e.$emit("on-hide"),e.fixSafariOverflowScrolling("touch")},this.time))},value:function(t){this.show=t}}}},236:function(t,e,n){"use strict";function o(t,e){var n=void 0;if(0==u.length&&e.path)u.push(e.path),n="slide-left";else{var o=_.lastIndexOf(u,t.path);-1!==o?(u=u.slice(0,o+1),n="slide-right"):(u.push(t.path),n="slide-left")}return n}Object.defineProperty(e,"__esModule",{value:!0});var a=n(118),c=n.n(a),i=n(130);e.default={name:"index",mounted:function(){var t=this;n.i(i.a)(function(t){console.log("getSignature",t),t.result&&c.a.config({timestamp:t.data.timestamp,nonceStr:t.data.nonceStr,appId:t.data.appId,signature:t.data.signature,debug:!1,jsApiList:["startRecord","stopRecord","translateVoice"]})}),c.a.ready(function(){t.loaded=!0,console.log("wx-js-sdk is ready!!"),c.a.startRecord({success:function(){c.a.stopRecord()}})})},data:function(){return{loaded:!1,transitionName:"slide-left"}},watch:{$route:function(t,e){this.transitionName=o(t,e)}}};var u=[]},237:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(83),a=n.n(o),c=n(82),_=n.n(c),i=n(51),u=n.n(i),r=n(97),l=n.n(r),s=n(131),d=n(81),f=n(62);e.default={mounted:function(){this.chartData&&this.drawChart()},props:{chartData:{type:Object,default:null}},data:function(){return{}},methods:{drawChart:function(){var t=this.$refs.chart;l.a.init(t).setOption(this.getChartOpts())},getChartOpts:function(){var t=this,e=this._convertData(this.chartData);return{color:f.b.color,tooltip:{trigger:"axis",confine:f.b.confine,axisPointer:{type:"shadow"}},legend:u()({},f.b.lengend,{data:e.legend,textStyle:f.b.textStyle}),grid:f.b.grid,xAxis:[{type:"category",data:e.xAxis,axisLine:f.b.axisLine,axisLabel:u()({},f.b.axisLabel,{rotate:.93*this.$refs.chart.clientWidth>80*e.xAxis.length?0:45,formatter:function(n){var o=.06*t.$refs.chart.clientHeight/7;return n&&n.length>o&&.93*t.$refs.chart.clientWidth<80*e.xAxis.length?n.substr(0,o)+"...":n}})}],yAxis:[{type:"value",axisLine:f.b.axisLine,splitLine:f.b.splitLine,axisLabel:u()({},f.b.axisLabel,{formatter:function(t){return n.i(s.a)(t)}})}],series:e.series,dataZoom:[{type:"inside",start:0,end:10}]}},_convertData:function(t){var e=[],o=[],c=[],i=_()(t.dims),u=[];return t.nums&&a()(t.nums)&&a()(t.nums).forEach(function(a,_){e.push(a);var r={name:"直接访问",type:"bar",data:[320,332,301,334,390,330,320]};if(r.name=a,r.data=t.nums[a].map(function(t){return n.i(d.a)(t)}),t.nums[a].forEach(function(t,e){var n=[];i.forEach(function(t){n.push(t[1][e])}),c.push(n.join("-"))}),u.length>0){var l=[];c=[],u.forEach(function(t){var e=[];l.push(r.data[t]),i.forEach(function(n){e.push(n[1][t])}),c.push(e.join("-"))}),r.data=l}o.push(r)}),{legend:e,xAxis:c,series:o}}}}},238:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(132),a=n.n(o),c=n(83),_=n.n(c),i=n(82),u=n.n(i),r=n(51),l=n.n(r),s=n(97),d=n.n(s),f=n(81),w=n(131),v=n(62);e.default={mounted:function(){this.chartData&&this.drawChart()},props:{chartData:{type:Object,default:null},chartWidth:{type:String,default:"100%"}},data:function(){return{}},computed:{},methods:{drawChart:function(){var t=this.$refs.chart;d.a.init(t).setOption(this.getChartOpts())},getChartOpts:function(){var t=this,e=this._convertData(this.chartData);return{color:v.b.color,tooltip:{trigger:"axis",confine:v.b.confine},legend:l()({},v.b.lengend,{data:e.legend,textStyle:v.b.textStyle}),grid:l()({},v.b.grid),xAxis:{type:"category",boundaryGap:!1,data:e.xAxis,axisLine:v.b.axisLine,axisLabel:l()({},v.b.axisLabel,{rotate:.93*this.$refs.chart.clientWidth>80*e.xAxis.length?0:45,formatter:function(n){var o=.06*t.$refs.chart.clientHeight/7;return n&&n.length>o&&.93*t.$refs.chart.clientWidth<80*e.xAxis.length?n.substr(0,o)+"...":n}})},yAxis:{type:"value",axisLine:v.b.axisLine,splitLine:v.b.splitLine,axisLabel:l()({},v.b.axisLabel,{formatter:function(t){return n.i(w.a)(t)}})},series:e.series,dataZoom:[{type:"inside",start:0,end:10}]}},_convertData:function(t){var e={name:"邮件营销",type:"line",data:[120,132,101,134,90,230,210]},o=[],c=[],i=[],r=u()(t.dims),l=[];return t.nums&&_()(t.nums)&&_()(t.nums).forEach(function(_,u){o.push(_);var s=a()({},e);if(s.name=_,s.data=[].concat(t.nums[_]),s.data=s.data.map(function(t){return n.i(f.a)(t)}),t.nums[_].forEach(function(t,e){var n=[];r.forEach(function(t){n.push(t[1][e])}),i.push(n.join("-"))}),l.length>0){var d=[];i=[],l.forEach(function(t){var e=[];d.push(s.data[t]),r.forEach(function(n){e.push(n[1][t])}),i.push(e.join("-"))}),s.data=d}c.push(s)}),{legend:o,xAxis:i,series:c}}}}},239:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(51),a=n.n(o),c=n(97),_=n.n(c),i=n(233),u=n(62);e.default={mounted:function(){this.chartData&&this.drawChart()},props:{chartData:{type:[Object,Array],default:null}},data:function(){return{}},methods:{drawChart:function(){var t=this.$refs.chart;_.a.init(t).setOption(this.getChartOpts())},getChartOpts:function(){var t=this.chartData,e=this._convertData(t),o=0;t.forEach(function(t){o+=t.value});var c=0;return t.forEach(function(e,n){n==t.length-1?e.percent=1-c:(e.percent=Number(e.value/o).toFixed(4),c+=+e.percent)}),{color:u.b.color,tooltip:{trigger:"item",formatter:function(e){var o=e.dataIndex,a=100*t[o].percent;return e.data.name+" : "+n.i(i.a)(e.value)+" ("+Number(a).toFixed(2)+"%)"},confine:u.b.confine},grid:u.b.grid,legend:a()({},u.b.lengend,{data:e.legend,textStyle:u.b.textStyle}),series:[e.series]}},_convertData:function(t){var e={type:"pie",radius:"55%",center:["50%","60%"],data:[{value:335,name:"直接访问"},{value:310,name:"邮件营销"},{value:234,name:"联盟广告"},{value:135,name:"视频广告"},{value:1548,name:"搜索引擎"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}};return e.data=Array.isArray(t)?t:[],e.data=e.data.map(function(t){return a()({},t,{value:Number(+t.value).toFixed(2)||0})}),{legend:Array.isArray(t)?t.map(function(t){return t.name}):[],series:e}}}}},240:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(51),a=n.n(o),c=n(118),_=n.n(c),i=n(557),u=n.n(i),r=n(559),l=n.n(r),s=n(561),d=n.n(s),f=n(560),w=n.n(f),v=n(130),h=n(232),m=0;e.default={mounted:function(){this.getChart(this.$route.params.voice)},components:{Loading:u.a,PieChart:d.a,ColumnChart:l.a,LineChart:w.a},data:function(){return{uuid:(new Date).getTime(),recording:!1,pending:!1,loadingText:"努力加载中...",fmtedData:null,chartWidth:"100%",currChartType:"cluster_column",title:"",indicators:{dims:[],nums:[]},data:[]}},methods:{setupData:function(t){var e=t.dataset_fields,o=t.chart,c=t.data,_=Array.isArray(e)&&e.length>0?e.map(function(t){return t.id}):[];Array.isArray(o.dims)&&o.dims.length>0&&(o.dims=o.dims.map(function(t){var n=e[_.indexOf(t.dim)];return a()({},t,n)})),Array.isArray(o.nums)&&o.nums.length>0&&(o.nums=o.nums.map(function(t){var n=e[_.indexOf(t.num)];return a()({},t,n)})),this.currChartType=o.chart_code||"cluster_column",this.title=o.name||"",this.indicators={dims:o.dims||[],nums:o.nums||[]},this.data=Array.isArray(c)&&c[0]?c[0]:[],!o.chart_code||"cluster_column"===o.chart_code||"line"===o.chart_code||Array.isArray(c)&&c[0]&&c[0].length>16?this.chartWidth=1.5*c[0].length+"rem":this.chartWidth="100%",this.fmtedData=n.i(h.a)(this.currChartType,this.indicators,this.data),this.uuid=(new Date).getTime()},getChart:function(t){var e=this;this.pending=!0,n.i(v.b)(t,function(t){e.pending=!1,t.result&&e.setupData(t.data)},function(t){e.pending=!1})},handleStartRecord:function(){var t=this;this.recording||(_.a.startRecord({cancel:function(){t.$vux.toast.show({type:"warn",text:"未授权录音"})}}),this.recording=!0,m=setTimeout(function(){t.handleStopRecord()},1e4))},handleStopRecord:function(){var t=this;this.recording&&(clearTimeout(m),_.a.stopRecord({success:function(e){var n=e.localId;t.pending=!0,t.loadingText="语音识别中...",_.a.translateVoice({localId:n,isShowProgressTips:0,complete:function(e){e.hasOwnProperty("translateResult")?(console.log("识别结果："+e.translateResult),t.loadingText="努力加载中...",t.getChart(e.translateResult)):(t.pending=!1,t.$vux.toast.show({type:"warn",text:"无法识别"}))}})}}),this.recording=!1)}}}},241:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(118),a=n.n(o),c=0;e.default={mounted:function(){this.$router.push({name:"dataReport",params:{voice:"语音输入的文字"}})},data:function(){return{recording:!1,pending:!1}},computed:{primaryTip:function(){return this.pending&&!this.recording?"正在识别并查询...":this.recording?"正在接收语音...":"点击说出指令"},secondaryTip:function(){return this.pending&&!this.recording?"":this.recording?"点击停止说话":"通过语音查询数据报告"}},methods:{handleToggleRecord:function(){var t=this;this.recording?this.stopRecord():(a.a.startRecord({cancel:function(){t.$vux.toast.show({type:"warn",text:"未授权录音"})}}),this.recording=!0,c=setTimeout(function(){t.stopRecord()},1e4))},stopRecord:function(){var t=this;clearTimeout(c),a.a.stopRecord({success:function(e){var n=e.localId;t.pending=!0,a.a.translateVoice({localId:n,isShowProgressTips:0,complete:function(e){e.hasOwnProperty("translateResult")?(console.log("识别结果："+e.translateResult),t.$vux.toast.show({type:"success",text:"识别结果："+e.translateResult}),t.pending=!1,t.$router.push({name:"dataReport",params:{voice:e.translateResult}})):(t.pending=!1,t.$vux.toast.show({type:"warn",text:"无法识别"}))}})}}),this.recording=!1}}}},536:function(t,e){},537:function(t,e){},538:function(t,e){},539:function(t,e){},540:function(t,e){},541:function(t,e){},542:function(t,e){},543:function(t,e){},547:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{ref:"chart",staticClass:"chart-conatiner"})])},staticRenderFns:[]}},548:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vux-toast"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowMask&&t.show,expression:"isShowMask && show"}],staticClass:"weui-mask_transparent"}),t._v(" "),n("transition",{attrs:{name:t.currentTransition}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"weui-toast",class:t.toastClass,style:{width:t.width}},[n("i",{directives:[{name:"show",rawName:"v-show",value:"text"!==t.type,expression:"type !== 'text'"}],staticClass:"weui-icon-success-no-circle weui-icon_toast"}),t._v(" "),t.text?n("p",{staticClass:"weui-toast__content",style:t.style,domProps:{innerHTML:t._s(t.text)}}):n("p",{staticClass:"weui-toast__content"},[t._t("default")],2)])])],1)},staticRenderFns:[]}},549:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{ref:"chart",staticClass:"chart-conatiner"})])},staticRenderFns:[]}},550:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{ref:"chart",staticClass:"chart-conatiner"})])},staticRenderFns:[]}},551:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:t.transitionName}},[t.loaded?n("router-view",{staticClass:"main-view slide-view"}):t._e()],1)],1)},staticRenderFns:[]}},552:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"chart-title"},[t._v(t._s(t.title))]),t._v(" "),n("div",{staticClass:"chart-area"},["cluster_column"===t.currChartType?n("ColumnChart",{key:t.uuid,attrs:{chartData:t.fmtedData,chartWidth:t.chartWidth}}):t._e(),t._v(" "),"pie"===t.currChartType?n("PieChart",{key:t.uuid,attrs:{chartData:t.fmtedData,chartWidth:t.chartWidth}}):t._e(),t._v(" "),"line"===t.currChartType?n("LineChart",{key:t.uuid,attrs:{chartData:t.fmtedData,chartWidth:t.chartWidth}}):t._e()],1),t._v(" "),n("loading",{attrs:{text:t.loadingText},model:{value:t.pending,callback:function(e){t.pending=e},expression:"pending"}}),t._v(" "),n("loading",{attrs:{text:"语音输入中..."},model:{value:t.recording,callback:function(e){t.recording=e},expression:"recording"}}),t._v(" "),n("div",{staticClass:"bottom-area",on:{touchstart:t.handleStartRecord,touchend:t.handleStopRecord,touchcancel:t.handleStopRecord}},[t._m(0)])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"voice-btn"},[n("i",{staticClass:"dmpicon-mic"})])}]}},553:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"btn-container",on:{touchend:t.handleToggleRecord}},[t._m(0),t._v(" "),!t.recording&&t.pending?n("div",{staticClass:"data-pending-ani"}):t._e(),t._v(" "),t.recording?n("div",[n("div",{staticClass:"wave-animate wave-animate-1"}),t._v(" "),n("div",{staticClass:"wave-animate wave-animate-2"}),t._v(" "),n("div",{staticClass:"wave-animate wave-animate-3"}),t._v(" "),n("div",{staticClass:"wave-animate wave-animate-4"})]):t._e()]),t._v(" "),n("div",{staticClass:"recording-status"},[n("div",{staticClass:"primary"},[t._v(t._s(t.primaryTip))]),t._v(" "),n("div",{staticClass:"secondary"},[t._v(t._s(t.secondaryTip))])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mic-icon"},[n("i",{staticClass:"dmpicon-mic"})])}]}},554:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"vux-mask"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"weui-loading_toast"},[n("div",{staticClass:"weui-mask_transparent"}),t._v(" "),n("div",{staticClass:"weui-toast",style:{position:t.position}},[n("i",{staticClass:"weui-loading weui-icon_toast"}),t._v(" "),n("p",{staticClass:"weui-toast__content"},[t._v(t._s(t.text||"加载中")),t._t("default")],2)])])])},staticRenderFns:[]}},557:function(t,e,n){n(543);var o=n(32)(n(234),n(554),null,null);t.exports=o.exports},558:function(t,e,n){n(537);var o=n(32)(n(235),n(548),null,null);t.exports=o.exports},559:function(t,e,n){n(539);var o=n(32)(n(237),n(550),"data-v-3032c0b2",null);t.exports=o.exports},560:function(t,e,n){n(538);var o=n(32)(n(238),n(549),"data-v-300dbf50",null);t.exports=o.exports},561:function(t,e,n){n(536);var o=n(32)(n(239),n(547),"data-v-061b5ee0",null);t.exports=o.exports},562:function(t,e,n){n(541);var o=n(32)(n(240),n(552),"data-v-3ec64c34",null);t.exports=o.exports},563:function(t,e,n){n(542);var o=n(32)(n(241),n(553),"data-v-64728b6c",null);t.exports=o.exports},62:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a});var o={grid:{left:"3%",right:"4%",bottom:"6%",containLabel:!0},lengend:{itemWidth:10,itemHeight:10},confine:!1,color:["#5182E4","#F7CB4A","#3FB27E","#F88D48","#9BCC66","#F25252","#CE62D6","#5156B8","#51B4F1","#F25252","#D42D6B"],textStyle:{color:"#666"},axisLine:{lineStyle:{color:"#666"}},splitLine:{lineStyle:{color:"rgba(158, 158, 158, 0.3)",type:"dashed"}},splitArea:{areaStyle:{color:["transparent","rgba(158, 158, 158, 0.8)"]}},radar_splitLine:{lineStyle:{color:"rgba(158, 158, 158, 0.8)"}},axisLabel:{interval:0,rotate:0,formatter:function(t){return t&&t.length>14?t.substr(0,13)+"...":t},textStyle:{color:"#666"}},table_header_color:"#eee",scattrer_shadow_color:"transparent",scattrer_start_color:"#15c9ff",scattrer_end_color:"#527DFD",scatter_map_color:["#C2EFFF","#62CDFF","#fff"]},a={sum:"求和",avg:"平均值",count:"计数",year:"按年",month:"按月",day:"按日"}},81:function(t,e,n){"use strict";function o(t){var e=t;return isNaN(+t)?e="-":null!=t&&""!==t?t.toString().indexOf(".")>-1&&(e=Number(+t).toFixed(2)):e="-",e}e.a=o}},[231]);
//# sourceMappingURL=app.cbe58204de83a566d7b7.js.map